{"version":3,"sources":["scripts/vod-contentscript.js"],"names":["retrieveGameTitleList","$","each","gameArray","push","this","text","timeArray","loadHighlightStorage","localStorage","getItem","setItem","JSON","stringify","storageObj","parse","addHighlights","after","index","html","that","change","is","parent","css","next","gameTitle","getGameTitleString","console","log","prop","addVodLinks","getJSON","done","data","titles","_","keys","title","templateString","generateVodString","twitchString","youtubeString","includes","gameTitleString","split","document","ready"],"mappings":"AAAA,YAYA,SAASA,yBACRC,EAAE,uDAAuDC,KAAK,WAC7DC,UAAUC,KAAKH,EAAEI,MAAMC,UAGxBL,EAAE,uDAAuDC,KAAK,WAC7DK,UAAUH,KAAKH,EAAEI,MAAMC,UAIzB,QAASE,wBAC0C,MAA9CC,aAAaC,QAAQ,uBACxBD,aAAaE,QAAQ,qBAAsBC,KAAKC,eAChDC,WAAaF,KAAKG,MAAMN,aAAaC,QAAQ,wBAE7CI,WAAaF,KAAKG,MAAMN,aAAaC,QAAQ,uBAI/C,QAASM,iBACRf,EAAE,wBAAwBgB,MAAM,2KAEhChB,EAAE,uDAAuDC,KAAK,SAAUgB,GACvEjB,EAAEI,MAAMc,KAAK,gFAAkFD,EAAQ,sCAAwCA,EAAQ,KAAOjB,EAAEI,MAAMC,OAAS,WAC/K,IAAIc,GAAOnB,EAAEI,KACbJ,GAAE,gBAAkBiB,GAAOG,OAAO,WACjC,GAAIpB,EAAEI,MAAMiB,GAAG,YAAa,CAC3BF,EAAKG,SAASC,IAAI,mBAAoB,WACtCJ,EAAKG,SAASE,KAAK,eAAeD,IAAI,mBAAoB,UAE1D,IAAIE,GAAYC,mBAAmBP,EAAKK,KAAK,MAAMnB,OAEnDQ,YAAWY,IAAa,EAExBjB,aAAaE,QAAQ,qBAAsBC,KAAKC,UAAUC,aAC1Dc,QAAQC,IAAI,2BAA6BH,EAAY,wBAC/C,CACNN,EAAKG,SAASC,IAAI,mBAAoB,WACtCJ,EAAKG,SAASE,KAAK,eAAeD,IAAI,mBAAoB,UAE1D,IAAIE,GAAYC,mBAAmBP,EAAKK,KAAK,MAAMnB,OAEnDQ,YAAWY,IAAa,EAExBjB,aAAaE,QAAQ,qBAAsBC,KAAKC,UAAUC,aAC1Dc,QAAQC,IAAI,sCAAwCH,EAAY,uBAIxB,GAAtCZ,WAAWM,EAAKK,KAAK,MAAMnB,SAC9BL,EAAE,gBAAkBiB,GAAOY,KAAK,WAAW,GAAMT,WAKpD,QAASU,eACRH,QAAQC,IAAI,yBACZ5B,EAAE+B,QAAQ,+GAA+GC,KAAK,SAAUC,GACvIN,QAAQC,IAAIK,EACZ,IAAIC,GAASC,EAAEC,KAAKH,EACpBN,SAAQC,IAAIM,GAEZlC,EAAEC,KAAKiC,EAAQ,SAAUjB,EAAOoB,GAC/BV,QAAQC,IAAIS,EACZ,IAAIC,GAAiBC,kBAAkBF,EAAOJ,EAC9CjC,GAAE,eAAiBqC,EAAQ,WAAWnB,KAAKoB,KAG5CX,QAAQC,IAAI,UAId,QAASW,mBAAkBF,EAAOJ,GACjC,GAAIO,GAAe,0CAA4CP,EAAKI,GAAO,cAAgB,MAAQJ,EAAKI,GAAa,IAErH,IAAqC,mBAA1BJ,GAAKI,GAAgB,QAAkB,CACjD,GAAII,GAAgBR,EAAKI,GAAgB,OACzC,OAAOA,GAAQ,qDAAuDG,EAAe,gEAAkEC,EAAgB,uDAEvK,MAAO,YAAcD,EAAe,sBAAwBH,EAAQ,wFAItE,QAASX,oBAAmBW,GAC3B,GAAIA,EAAMK,SAAS,aAClB,GAAIC,GAAkBN,EAAMO,MAAM,OAAO,OAEzC,IAAID,GAAkBN,CAGvB,OAAOM,GApGR,GAAIzC,cACAI,aACAO,WAAa,IACjBb,GAAE6C,UAAUC,MAAM,WACjB/C,wBACAQ,uBACAQ,gBACAe","file":"scripts/vod-contentscript.js","sourcesContent":["'use strict';\n\nvar gameArray = [];\nvar timeArray = [];\nvar storageObj = null;\n$(document).ready(function () {\n\tretrieveGameTitleList();\n\tloadHighlightStorage();\n\taddHighlights();\n\taddVodLinks();\n});\n\nfunction retrieveGameTitleList() {\n\t$('tr:not(.day-split):not(.second-row) td:nth-child(2)').each(function () {\n\t\tgameArray.push($(this).text());\n\t});\n\n\t$('tr:not(.day-split):not(.second-row) td:nth-child(1)').each(function () {\n\t\ttimeArray.push($(this).text());\n\t});\n}\n\nfunction loadHighlightStorage() {\n\tif (localStorage.getItem('scheduleHighlights') == null) {\n\t\tlocalStorage.setItem('scheduleHighlights', JSON.stringify({}));\n\t\tstorageObj = JSON.parse(localStorage.getItem('scheduleHighlights'));\n\t} else {\n\t\tstorageObj = JSON.parse(localStorage.getItem('scheduleHighlights'));\n\t}\n}\n\nfunction addHighlights() {\n\t$('.text-gdq-black.well').after('<h4 class=\"text-gdq-black well \">Clicking the <i class=\"fa fa-star-o\"></i> beside the run will highlight it!<br >Use this to keep track of runs you want to watch.</h4>');\n\n\t$('tr:not(.day-split):not(.second-row) td:nth-child(1)').each(function (index) {\n\t\t$(this).html('<input type=\"checkbox\" class=\"highlight-run\" name=\"checkbox\" id=\"theater-mode' + index + '\"></input> <label for=\"theater-mode' + index + '\">' + $(this).text() + '</label>');\n\t\tvar that = $(this);\n\t\t$('#theater-mode' + index).change(function () {\n\t\t\tif ($(this).is(\":checked\")) {\n\t\t\t\tthat.parent().css('background-color', '#F0E68C');\n\t\t\t\tthat.parent().next('.second-row').css('background-color', '#F0E68C');\n\n\t\t\t\tvar gameTitle = getGameTitleString(that.next('td').text());\n\n\t\t\t\tstorageObj[gameTitle] = true;\n\n\t\t\t\tlocalStorage.setItem('scheduleHighlights', JSON.stringify(storageObj));\n\t\t\t\tconsole.log('Starred and highlighted ' + gameTitle + ' on the schedule');\n\t\t\t} else {\n\t\t\t\tthat.parent().css('background-color', '#FFFFFF');\n\t\t\t\tthat.parent().next('.second-row').css('background-color', '#FFFFFF');\n\n\t\t\t\tvar gameTitle = getGameTitleString(that.next('td').text());\n\n\t\t\t\tstorageObj[gameTitle] = false;\n\n\t\t\t\tlocalStorage.setItem('scheduleHighlights', JSON.stringify(storageObj));\n\t\t\t\tconsole.log('Removed the star and highlight for ' + gameTitle + ' on the schedule');\n\t\t\t}\n\t\t});\n\n\t\tif (storageObj[that.next('td').text()] == true) {\n\t\t\t$('#theater-mode' + index).prop(\"checked\", true).change();\n\t\t}\n\t});\n}\n\nfunction addVodLinks() {\n\tconsole.log(\"Starting to add links\");\n\t$.getJSON(\"https://gist.githubusercontent.com/theoriginalcamper/30bddc447895b64988412671cfc12898/raw/sgdq2016-vod.json\").done(function (data) {\n\t\tconsole.log(data);\n\t\tvar titles = _.keys(data);\n\t\tconsole.log(titles);\n\n\t\t$.each(titles, function (index, title) {\n\t\t\tconsole.log(title);\n\t\t\tvar templateString = generateVodString(title, data);\n\t\t\t$('td:contains(' + title + '):first').html(templateString);\n\t\t});\n\n\t\tconsole.log(\"Done\");\n\t});\n}\n\nfunction generateVodString(title, data) {\n\tvar twitchString = 'https://www.twitch.tv/gamesdonequick/v/' + data[title][\"video-link\"] + '?t=' + data[title][\"time\"];\n\n\tif (typeof data[title][\"youtube\"] != 'undefined') {\n\t\tvar youtubeString = data[title][\"youtube\"];\n\t\treturn title + ' - <i class=\"fa fa-check\"></i> COMPLETED <a href=\"' + twitchString + '\" class=\"vod-link\"><i class=\"fa fa-twitch\"></i></a> <a href=\"' + youtubeString + '\" class=\"vod-link\"><i class=\"fa fa-youtube\"></i></a>';\n\t} else {\n\t\treturn '<a href=\"' + twitchString + '\" class=\"vod-link\">' + title + ' - <i class=\"fa fa-check\"></i> COMPLETED <i class=\"fa fa-twitch\"></i> Twitch Only</a>';\n\t}\n}\n\nfunction getGameTitleString(title) {\n\tif (title.includes(\"COMPLETED\")) {\n\t\tvar gameTitleString = title.split(\" - \")[0];\n\t} else {\n\t\tvar gameTitleString = title;\n\t}\n\n\treturn gameTitleString;\n}"],"sourceRoot":"/source/"}